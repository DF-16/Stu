<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>京东触屏版</title>
    <link rel="stylesheet" href="style/base.css">
    <link rel="stylesheet" href="style/index.css">
   <script src="./js/zepto.min.js"></script>

</head>

<body>
    <div class="jd_layout">
        <!--搜索块-->
        <div class="jd_search">
            <a href="javascript:;" class="jd_logo"></a>
            <form action="" class="jd_searchBox">
                <input type="text" placeholder="请输入商品名称">
            </form>
            <a href="javascript:;" class="jd_login">登录</a>
        </div>
        <!--轮播图-->
        <div class="jd_banner">
            <ul class="jd_bannerImg clearfix">
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l1.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l2.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l3.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l4.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l5.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l6.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l7.jpg" alt="">
                    </a>
                </li>
                <li>
                    <a href="javascript;;">
                        <img src="uploads/l8.jpg" alt="">
                    </a>
                </li>
            </ul>
            <ul class="jd_bannerIndicator">
                <li class="active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <!--导航块-->
        <div class="jd_nav clearfix">
            <ul>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_1.png" alt="">
                        <p>京东超市</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_2.png" alt="">
                        <p>全球购</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_3.png" alt="">
                        <p>充值缴费</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_4.png" alt="">
                        <p>京东服饰</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_5.png" alt="">
                        <p>赚钱</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_6.png" alt="">
                        <p>领劵</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_7.png" alt="">
                        <p>京东物流</p>
                    </a>
                </li>
                <li>
                    <a href="javasript:;">
                        <img src="images/nav_8.png" alt="">
                        <p>京东慈善</p>
                    </a>
                </li>
            </ul>
        </div>
        <!--产品块-->
        <div class="jd_product">
            <div class="jd_productBox clearfix jd_sk">
                <div class="jd_pTip">
                    <div class="jd_left">
                        <span class="jd_sk_ico f_left m_left10"></span>
                        <span class="jd_sk_text f_left m_left10">掌上秒杀</span>
                        <div class="jd_sk_time f_left m_left10">
                            <span>0</span>
                            <span>0</span>
                            <span>:</span>
                            <span>0</span>
                            <span>0</span>
                            <span>:</span>
                            <span>0</span>
                            <span>0</span>
                        </div>
                    </div>
                    <div class="f_right m_right10">更多秒杀...</div>
                </div>
                <div class="jd_pContent clearfix">
                    <ul>
                        <li>
                            <a href="javascripe:;">
                                <img src="./uploads/detail01.jpg" alt="">
                                <p>¥10.00</p>
                                <p>¥20.00</p>
                            </a>
                        </li>
                        <li>
                            <a href="javascripe:;">
                                <img src="./uploads/detail01.jpg" alt="">
                                <p>¥10.00</p>
                                <p>¥20.00</p>
                            </a>
                        </li>
                        <li>
                            <a href="javascripe:;">
                                <img src="./uploads/detail01.jpg" alt="">
                                <p>¥10.00</p>
                                <p>¥20.00</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="jd_productBox">
                <div class="jd_pTip">
                    <h3>京东超市</h3>
                </div>
                <div class="jd_pContent clearfix">
                    <a href="javacript:;" class="a_50 f_left b_right">
                        <img src="./uploads/cp1.jpg" alt="">
                    </a>
                    <a href="javacript:;" class="a_50 f_left b_bottom">
                        <img src="./uploads/cp2.jpg" alt="">
                    </a>
                    <a href="javacript:;" class="a_50 f_left">
                        <img src="./uploads/cp3.jpg" alt="">
                    </a>
                </div>
            </div>
            <div class="jd_productBox">
                <div class="jd_pTip">
                    <h3>京东超市</h3>
                </div>
                <div class="jd_pContent clearfix">
                    <a href="javacript:;" class="a_50 f_right">
                        <img src="./uploads/cp4.jpg" alt="">
                    </a>
                    <a href="javacript:;" class="a_50 f_left b_bottom">
                        <img src="./uploads/cp5.jpg" alt="">
                    </a>
                    <a href="javacript:;" class="a_50 f_left">
                        <img src="./uploads/cp6.jpg" alt="">
                    </a>
                </div>
            </div>
            <div class="jd_productBox">
                <div class="jd_pTip">
                    <h3>京东超市</h3>
                </div>
                <div class="jd_pContent clearfix">
                    <a href="javacript:;" class="a_50 f_left b_right">
                        <img src="./uploads/cp1.jpg" alt="">
                    </a>
                    <a href="javacript:;" class="a_50 f_left b_bottom">
                        <img src="./uploads/cp2.jpg" alt="">
                    </a>
                    <a href="javacript:;" class="a_50 f_left">
                        <img src="./uploads/cp3.jpg" alt="">
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script>
        //使用zepto实现轮播图
        $(function () {
            /**
             * 首尾添加两张图片 重新设置盒子的宽度和图片的宽度
            */
            //获取轮播图元素
            var banner = $(".jd_banner");
            var bannerWidth = banner.width();
            //获取图片盒子
            var imgBox = banner.find("ul:first-of-type");
            //获取点标记
            var indicator = banner.find("ul:eq(1)").find("li");
            //获取首位两张图
            var first = imgBox.find("li:first-of-type");
            var last = imgBox.find("li:last-of-type");
            //将两张图片添加到首尾
            imgBox.append(first.clone());
            last.clone().insertBefore(first);
            //设置盒子的宽度
            var lis = imgBox.find("li");
            var count = lis.length;
            imgBox.width(count * bannerWidth);
            //设置li标签的宽度
            lis.each(function (index, value) {
                $(lis[index]).width(bannerWidth);
            })
            //设置默认偏移量
            imgBox.css("left", -bannerWidth);
            //定义图片索引
            var index = 1;

            /**
             * 图片轮播的动画效果
            */
           var imgAnimation = function () {
               imgBox.animate(
                   {"left": -index * bannerWidth},
                   200,
                   "ease-in-out",
                   //动画执行完毕之后的回调函数
                   function () {
                       //判断当前索引的位置
                       if (index === count-1) {
                           index = 1;
                           imgBox.css("left", -index * bannerWidth);
                       } else if (index === 0) {
                           index = count - 2;
                           imgBox.css("left", -index * bannerWidth);
                       }
                       indicator.removeClass("active").eq(index-1).addClass("active");
                   }
               );
           }
           //开启定时器
           var timeId = setInterval(function () {
               index ++;
               imgAnimation();
           }, 2000);
           
           //田间滑动事件
           imgBox.on("swipeLeft", function () {
               clearInterval(timeId);
               index ++;
               imgAnimation();
           });
           //右滑动
           imgBox.on("swipeRight", function () {
               clearInterval(timeId);
               index --;
               imgAnimation();
           });
        });
    </script>
</body>

</html>